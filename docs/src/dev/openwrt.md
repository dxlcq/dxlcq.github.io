## å‚è€ƒ

* [ç¡¬æ ¸ç¿»å¢™ç³»åˆ—](https://www.youtube.com/playlist?list=PLqybz7NWybwUgR-S6m78tfd-lV4sBvGFG) æ‰«ç›²

* æœºåœº [èµ”é’±](https://xn--mes358aby2apfg.com/#/register?code=00VpsSlX) / [é£é¸Ÿ](https://feiniaoyun.top/#/register?code=MfZSDsfM) / [é­”æˆ’](https://mojie.me/#/register?code=H6CrDt7x)




<br>

---

## openwrt

* [OpenWrt](https://openwrt.org/zh/start) / [æœç´¢é•œåƒ](https://firmware-selector.openwrt.org/) / [æµè§ˆé•œåƒ](https://downloads.openwrt.org) / [æ¸…åé•œåƒ](https://mirrors.tuna.tsinghua.edu.cn/openwrt/releases/?C=N&O=D)

* [ImmortalWrt](https://github.com/immortalwrt/immortalwrt) / [æœç´¢é•œåƒ](https://firmware-selector.immortalwrt.org/) / [æµè§ˆé•œåƒ](https://downloads.immortalwrt.org) / [åŒ—å¤§é•œåƒ](https://mirrors.pku.edu.cn/immortalwrt/releases/)


```
src/gz openwrt_core https://downloads.openwrt.org/releases/24.10.0-rc5/targets/mediatek/filogic/packages
src/gz openwrt_base https://downloads.openwrt.org/releases/24.10.0-rc5/packages/aarch64_cortex-a53/base
src/gz openwrt_kmods https://downloads.openwrt.org/releases/24.10.0-rc5/targets/mediatek/filogic/kmods/6.6.69-1-83c6d4e14f7353564d3cadaf38a15bef
src/gz openwrt_luci https://downloads.openwrt.org/releases/24.10.0-rc5/packages/aarch64_cortex-a53/luci
src/gz openwrt_packages https://downloads.openwrt.org/releases/24.10.0-rc5/packages/aarch64_cortex-a53/packages
src/gz openwrt_routing https://downloads.openwrt.org/releases/24.10.0-rc5/packages/aarch64_cortex-a53/routing
src/gz openwrt_telephony https://downloads.openwrt.org/releases/24.10.0-rc5/packages/aarch64_cortex-a53/telephony
```

```
src/gz immortalwrt_core https://mirrors.vsean.net/openwrt/releases/24.10.0-rc3/targets/mediatek/filogic/packages
src/gz immortalwrt_base https://mirrors.vsean.net/openwrt/releases/24.10.0-rc3/packages/aarch64_cortex-a53/base
src/gz immortalwrt_kmods https://mirrors.vsean.net/openwrt/releases/24.10.0-rc3/targets/mediatek/filogic/kmods/6.6.67-1-cde7aa5ae483611d69bd37bac0c68bf8
src/gz immortalwrt_luci https://mirrors.vsean.net/openwrt/releases/24.10.0-rc3/packages/aarch64_cortex-a53/luci
src/gz immortalwrt_packages https://mirrors.vsean.net/openwrt/releases/24.10.0-rc3/packages/aarch64_cortex-a53/packages
src/gz immortalwrt_routing https://mirrors.vsean.net/openwrt/releases/24.10.0-rc3/packages/aarch64_cortex-a53/routing
src/gz immortalwrt_telephony https://mirrors.vsean.net/openwrt/releases/24.10.0-rc3/packages/aarch64_cortex-a53/telephony
```

<br>

---


<div class="container"> ğŸ›©
    <div class="item">
        <a href="https://www.duyaoss.com/archives/3/" target="_blank"> æœºåœºæµ‹é€Ÿ </a> 
    </div>
    <div class="item">
        <a href="https://xn--mes358aby2apfg.com/#/register?code=00VpsSlX" target="_blank"> èµ”é’±æœºåœº </a> 
    </div>
    <div class="item">
        <a href="https://feiniaoyun.top/#/register?code=MfZSDsfM" target="_blank"> é£é¸Ÿäº‘ </a> 
    </div>
    <div class="item">
        <a href="https://mojie.me/#/register?code=H6CrDt7x" target="_blank"> é­”æˆ’ </a> 
    </div>
</div>


<br>

---


## æˆ‘çš„è®¾å¤‡


### FriendlyElec NanoPi Zero2

> å¯èƒ½æ˜¯ 2024 å¹´æœ€å°çš„ **æ— çº¿** è·¯ç”±å™¨äº†

* [æ–‡æ¡£](https://wiki.friendlyelec.com/wiki/index.php/Main_Page)

### Banana Pi BPI-R4

> **wifi7 + åŒ10G**ï¼Œå¯èƒ½æ˜¯ 2024 å¹´æœ€å¼ºçš„æ— çº¿è·¯ç”±å™¨äº†

* [æ–‡æ¡£](https://docs.banana-pi.org/zh/home) / [è®ºå›](https://forum.banana-pi.org/)

### x86_64

> æŠ›å¼€æ— çº¿ï¼Œæ— ç–‘æ— æ•Œ

* ä¸€ç§æ— éœ€é¢å¤–ç¡¬ä»¶çš„æœ€ä½³ OpenWrt å®‰è£…æ–¹æ³•

    1. ä¸‹è½½ [immortalwrt-x86-64-generic-ext4-combined-efi.vhdx](https://downloads.immortalwrt.org/snapshots/targets/x86/64/)

    2. ç›´æ¥å®‰è£…è‡³ hyper-v

    3. ç½‘å¡è®¾ç½®ä¸ºæ¡¥æ¥ï¼Œéœ€è¦ä»£ç†çš„è®¾å¤‡è®¾ç½®ç½‘å…³ä¸ºè™šæ‹Ÿæœºçš„ ip

<br>

---

## å¼€å§‹ä½¿ç”¨

### cfdisk

1. çœ‹çœ‹åˆ†åŒº

    ```bash
    ls /dev/
    fdisk /dev/mmcblk0
    ```

2. åˆ‡æ¢åˆ° `Free Space`

    `New` -> `Primary` -> `Enter` -> `Write` -> `yes` -> `Quit`

    è¿™æ—¶å€™æˆ‘ç”Ÿæˆäº†ä¸€ä¸ªæ–°çš„åˆ†åŒº `/dev/mmcblk0p8`

3. æ ¼å¼åŒ–

    ```bash
    mkfs.ext4 /dev/mmcblk0p8
    ```

4. åœ¨ `web` -> `System` -> `Mount Points`

    ç”Ÿæˆé…ç½® -> é€‰æ‹©åˆšæ‰çš„åˆ†åŒº -> å¯ç”¨ -> æŒ‚è½½ç‚¹ `/` -> ä¿å­˜

5. ä¿å­˜ï¼Œæ‰§è¡Œåˆšæ‰ç”Ÿæˆçš„å‘½ä»¤

    **æ³¨æ„ï¼ï¼ï¼`/dev/sda1` æ”¹ä¸º `/dev/mmcblk0p8`**

    ```bash
    mount /dev/mmcblk0p8 /mnt
    ```

    é‡å¯




### interface

* `terminal`
    
    æŒ‰éœ€ä¿®æ”¹ ip

    ```bash
    vim /etc/config/network
    ```
    
    ```network
    config interface 'wan'
        option device 'br-wan'
        option proto 'static'
        option ipaddr '192.168.1.2'
        option netmask '255.255.255.0'
        option gateway '192.168.1.1'
    ```

    ```bash
    /etc/init.d/network restart
    ```

    å¦‚æœä¿®æ”¹ä¹‹åæ— æ³•è¿æ¥ï¼Œåˆ™éœ€è¦å…³é—­é˜²ç«å¢™

    ```bash
    /etc/init.d/firewall stop
    # /etc/init.d/firewall disable
    ```

#### br-lan

1. IP åœ°å€

2. ä½¿ç”¨è‡ªå®šä¹‰çš„ DNS æœåŠ¡å™¨

#### br-wan

1. DHCP å®¢æˆ·ç«¯

<br>

---

### device

#### br-lan

1. ç¦ç”¨ IPv6

#### br-wan

1. ç¦ç”¨ IPv6


<br>

---

### luci

```bash
opkg update
opkg install luci
opkg install luci-i18n-base-zh-cn
```

<br>

---


### HomeProxy

[homeproxy æ•™ç¨‹](https://www.youtube.com/watch?v=nNRpbn9M2Lc)

å®‰è£…åŒ…ä½ç½®ï¼š

* `/immortalwrt/releases` `/packages-ç‰ˆæœ¬` `/åœ¨ opkg ä¸­çœ‹æ¶æ„` `/luci`

* `/immortalwrt/releases` `/ç‰ˆæœ¬/packages` `/åœ¨ opkg ä¸­çœ‹æ¶æ„` `/luci`



<br>

---

### OpenVPN

#### Server

1. å®‰è£…è½¯ä»¶åŒ…

    * `openvpn-openssl`

    * `openvpn-easy-rsa`

    * `luci-app-openvpn-server` **ä»…ä½¿ç”¨ terminal ä¸‹è½½è¿™ä¸€ä¸ªï¼Œå‰ä¸¤ä¸ªè‡ªåŠ¨ä¸‹**

    * `luci-i18n-openvpn-server-zh-cn`

2. æ·»åŠ  NAT è§„åˆ™

    * `ovpn_server`
    
        Forwarded `IPv4`ï¼›æ¥è‡ª `æ‰€æœ‰åŒºåŸŸ`ï¼ŒIP `10.0.1.0/24`ï¼›åˆ° `æ‰€æœ‰åŒºåŸŸ`ï¼›è‡ªåŠ¨é‡å†™æº IP

3. `/etc/config/openvpn`

    ```bash
    config openvpn 'myvpn'
        option enabled '1'
        option proto 'tcp-server'
        option port '1194'
        option ddns 'dxlcq.com'
        option dev 'tun'
        option topology 'subnet'
        option server '10.0.1.0 255.255.255.0'
        option comp_lzo 'no'
        option ca '/etc/openvpn/pki/ca.crt'
        option dh '/etc/openvpn/pki/dh.pem'
        option cert '/etc/openvpn/pki/server.crt'
        option key '/etc/openvpn/pki/server.key'
        option persist_key '1'
        option persist_tun '1'
        option user 'nobody'
        option group 'nogroup'
        option max_clients '10'
        option keepalive '10 120'
        option verb '3'
        option status '/var/log/openvpn_status.log'
        option log '/tmp/openvpn.log'
        option duplicate_cn '1'
        option client_to_client 
        list push 'comp-lzo no'
        list push 'redirect-gateway def1 bypass-dhcp'
        list push 'route 10.0.0.0 255.255.255.0'
        list push 'dhcp-option DNS 10.0.0.1'
    ```

#### Client

1. å®‰è£…è½¯ä»¶åŒ…

    * `openvpn-openssl`

    * `luci-app-openvpn`

    * `luci-i18n-openvpn-zh-cn`

2. æ·»åŠ  NAT è§„åˆ™

    * `ovpn_client`

        Forwarded `IPv4`ï¼›æ¥è‡ª `æ‰€æœ‰åŒºåŸŸ`ï¼›åˆ° `æ‰€æœ‰åŒºåŸŸ`ï¼ŒIP `10.0.0.0/24`ï¼›è‡ªåŠ¨é‡å†™æº IP

3. åœ¨ `.ovpn` æ–‡ä»¶ä¸­æ·»åŠ ï¼Œåªæœ‰ç‰¹å®šç½‘ç»œæµé‡é€šè¿‡ vpn

    ```ovpn
    route-nopull
    route 10.0.0.0 255.255.255.0 vpn_gateway
    ```

<br>

---


### firewall

#### NAT

* å¦‚éœ€è¦å¹³çº§è®¾å¤‡é€šè¿‡æ­¤è®¾å¤‡ï¼ˆæ—è·¯ç”±ï¼‰ä¸Šç½‘ï¼Œæ·»åŠ  `NAT` è§„åˆ™

    * ä»¥ `cqu` ä¸ºä¾‹

        Forwarded `IPv4`ï¼›æ¥è‡ª `æ‰€æœ‰åŒºåŸŸ`ï¼ŒIP `180.85.206.0/24`ï¼›åˆ° `æ‰€æœ‰åŒºåŸŸ`ï¼›è‡ªåŠ¨é‡å†™æº IP

        Forwarded `IPv4`ï¼›æ¥è‡ª `æ‰€æœ‰åŒºåŸŸ`ï¼›åˆ° `æ‰€æœ‰åŒºåŸŸ`ï¼ŒIP `180.85.206.0/24`ï¼›è‡ªåŠ¨é‡å†™æº IP

<br>

---


[https://en.wikipedia.org/wiki/List_of_WLAN_channels](https://en.wikipedia.org/wiki/List_of_WLAN_channels)

[openwrt ovpnæ•™ç¨‹](https://www.youtube.com/watch?v=yb-g4ZaNm9Y)

[openvpn ç½‘ç»œé€Ÿç‡ä¼˜åŒ–](http://www.xixicool.com/870.html)



## è·¯ç”±å™¨


**WAN**

* `PPPoE`

    1. å…‰çŒ«æ”¹æ¡¥æ¥ï¼Œé»˜è®¤æ¨¡å¼æ‹¨å·

**LAN**

* `DHCPv4` 

    1. `DNS` ä¸ç½‘å…³ `10.0.0.3`

    2. åœ°å€èŒƒå›´

        * ä¿ç•™ `.2 - .100`

        * åŠ¨æ€ `.101 - .200` `DHCP`

        * éš”ç¦» `.201 - .254`

* `static IP`

    * é•¿æœŸ `.1 - .20`

    * çŸ­æœŸ `.21 - .100`


**å®šæ—¶é‡å¯**

* æ¯å¤© `2:00`ï¼Œé‡æ–°ä¸Šç”µ POE

* æ¯å¤© `2:20`ï¼Œæœ¬æœºæ¸…ç†

* æ¯å¤© `2:40`ï¼Œå°„é¢‘è°ƒä¼˜

* æ¯å¤© `3:00`ï¼Œè®¾å¤‡é‡å¯


**å®‰å…¨ç®¡ç†**

* `ARP` é˜²æŠ¤

* æ”»å‡»é˜²æŠ¤

**VPN-PPTP**

* [L2TP VPN ä¼ä¸šåº”ç”¨é…ç½®å®ä¾‹](https://smb.tp-link.com.cn/service/detail_article_4464.html)

* åˆ›å»º IP åœ°å€æ± 

    * `10.0.2.2 - 10.0.2.10`

* åˆ›å»ºç”¨æˆ·

    * æœ¬åœ°åœ°å€ `10.0.2.1`

    * è®¾ç½®ç”¨æˆ·åå¯†ç 

* åˆ›å»º l2tp æœåŠ¡

    * è®¾ç½®é¢„å…±äº«å¯†é’¥








**ç«¯å£æ˜ å°„**

éå¿…è¦ä¸åšç«¯å£æ˜ å°„ï¼Œå°½é‡ä½¿ç”¨ `VPN`

<center>

| è®¾å¤‡ | IP | å¤–éƒ¨ç«¯å£ | å†…éƒ¨ç«¯å£ |
|:-:|:-:|:-:|:-:|
| ç½‘ç«™ | 10.0.0.6 | 2025 | 2025 |

</center>

**DDNS**

* TP-Linkï¼ˆæ›´æ–°å¾ˆå¿«ï¼Œä½†è§£ææ•ˆæœä¸è¡Œï¼‰

* ç§‘è¿ˆï¼ˆè§£ææ•ˆæœå¾ˆå¥½ï¼Œä½†æ˜¯æ›´æ–°å¾ˆæ…¢ï¼‰

**ç½‘ç»œå”¤é†’**

* windows å…³é—­ `å¿«é€Ÿå¯åŠ¨`

**äº‘ç®¡ç†-TPå•†äº‘**

> å½“ `VPN` å¤±æ•ˆæ—¶çš„å”¯ä¸€ç®¡ç†æ‰‹æ®µ